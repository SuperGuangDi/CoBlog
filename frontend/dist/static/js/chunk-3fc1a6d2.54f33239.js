(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fc1a6d2"],{"26da":function(t,e,s){},8530:function(t,e,s){"use strict";var n=s("a1fe"),i=s.n(n);i.a},"9d19":function(t,e,s){"use strict";var n=s("26da"),i=s.n(n);i.a},a1fe:function(t,e,s){},b1ac:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"viewnote-cnt"},[s("div",{staticStyle:{width:"20%","margin-top":"20px"}},[s("catalogue")],1),s("div",{staticClass:"viewnote"},[s("div",{staticClass:"view-head"},[s("div",{staticClass:"view-line"},[s("el-tag",[t._v(t._s(t.label))]),t.showState?s("div",[t._v("\n           \n          "),s("el-tag",{attrs:{type:"danger"}},[t._v(t._s(t.stateMsg))])],1):t._e(),s("div",{staticClass:"view-title"},[t._v(t._s(t.title))])],1),s("div",{staticClass:"view-time"},[s("span",[t._v(t._s(t.modified))]),s("span",[t._v(" | ")]),s("span",[t._v(t._s(t.author))])])]),s("mavon-editor",{attrs:{boxShadow:!1,subfield:!1,defaultOpen:"preview",toolbarsFlag:!1},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)])},i=[],a=(s("a481"),s("b2d8")),o=(s("64e1"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"catalogue-cnt"},[t._l(t.notes,function(e,n){return s("div",{key:n,staticClass:"label-box"},[s("div",{staticClass:"label"},[t._v(" "+t._s(n))]),t._l(t.notes[n],function(e){return s("div",{key:e.id,staticClass:"note-box"},[s("div",{staticClass:"note-title",on:{click:function(s){return t.viewNote(e)}}},[t._v("  "+t._s(e.title||"未设置标题"))])])})],2)}),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}})],2)}),u=[],c={data:function(){return{notes:{},showPopup:!1}},computed:{assertSmall:function(){return 0===this.$store.state.ssize}},methods:{viewNote:function(t){var e="/view/"+t.id;this.$route.path!==e&&this.$router.push(e)}},beforeMount:function(){var t=this;this.$post("/api/getnotes",{state:"save"}).then(function(e){for(var s in t.notes={},e.notes){var n=e.notes[s].label||"未分类";t.notes[n]||(t.notes[n]=[]),t.notes[n].push(e.notes[s])}})}},l=c,r=(s("8530"),s("2877")),d=Object(r["a"])(l,o,u,!1,null,"42e35830",null),v=d.exports,p=s("567f"),h={name:"viewnote",components:{catalogue:v,mavonEditor:a["mavonEditor"]},data:function(){return{author:"",title:"",label:"",content:"",modified:"",state:""}},computed:{stateMsg:function(){return"temp"===this.state?"草稿":"del"===this.state?"已删除":"self"===this.state?"私密":"异常"},showState:function(){return"save"!==this.state}},methods:{updateView:function(){var t=this,e=this.$route.params.noteid;this.$post("/api/viewnote",{noteid:e}).then(function(e){t.author=e.author||"未命名",t.title=e.title||"未设置标题",t.label=e.label||"未分类",t.content=e.content,t.modified=p["a"].parseTime(e.modified),t.state=e.state}).catch(function(){t.$router.replace("/404")})}},watch:{"$route.params.noteid":function(){-1!==this.$route.path.indexOf("/view")&&this.updateView()}},beforeMount:function(){this.updateView()},beforeRouteLeave:function(t,e,s){this.title="",this.label="",this.content="",this.modified="",this.state="",s()}},f=h,w=(s("9d19"),Object(r["a"])(f,n,i,!1,null,"0b6da06d",null));e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-3fc1a6d2.54f33239.js.map