(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-661a3421"],{"1d9c":function(e,t,n){"use strict";var s=n("8ba6"),i=n.n(s);i.a},5118:function(e,t,n){(function(e){var s="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},5697:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:(e.assertSmall,"setting-box")},[n("div",{staticClass:"tips-box"},[n("div",{staticClass:"setting-line"},[e._m(0),n("div",[n("div",{staticClass:"setting-value"},[e._v(e._s(e.account))]),n("div",{staticClass:"tips"},[e._v("登录用的 不能变的")])])])]),n("div",{staticClass:"tips-box"},[n("div",{staticClass:"setting-line"},[e._m(1),n("div",[n("div",{staticClass:"setting-value"},[e._v(e._s(e.name))]),n("div",{staticClass:"tips"},[e._v("别人叫的 给你看的")])])])]),n("div",{staticClass:"setting-revise name-input"},[e._m(2),n("div",{staticClass:"setting-line"},[n("el-input",{attrs:{placeholder:"请输入新的用户名"},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickSetName(t)}},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),e._v(" \n        "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.clickSetName}},[e._v("修改")])],1)]),n("div",{staticClass:"setting-revise pwd-input"},[e._m(3),n("div",{staticClass:"setting-line"},[n("el-input",{attrs:{placeholder:"请输入新的密码","show-password":""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickSetPwd(t)}},model:{value:e.newPwd,callback:function(t){e.newPwd=t},expression:"newPwd"}}),e._v(" \n        "),n("el-button",{attrs:{type:"primary",plain:"",disabled:e.showPwd2},on:{click:e.clickSetPwd}},[e._v("修改")])],1)]),n("div",{class:e.pwdStyle},[e._m(4),n("div",{staticClass:"setting-line"},[n("el-input",{ref:"pwd2",attrs:{placeholder:"请确认密码","show-password":""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickSetPwdTwice(t)}},model:{value:e.newPwd2,callback:function(t){e.newPwd2=t},expression:"newPwd2"}}),e._v(" \n        "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.clickSetPwdTwice}},[e._v("确认")])],1)])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-label"},[n("span",{staticClass:"label-1"},[e._v("这是")]),n("span",{staticClass:"label-2"},[e._v("账号")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-label"},[n("span",{staticClass:"label-1"},[e._v("这是")]),n("span",{staticClass:"label-2"},[e._v("用户名")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-line-no"},[n("div",{staticClass:"setting-label"},[n("span",{staticClass:"label-1"},[e._v("修改")]),n("span",{staticClass:"label-2"},[e._v("用户名")])]),n("div",{staticClass:"tips"},[e._v("有字就行...")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-line-no"},[n("div",{staticClass:"setting-label"},[n("span",{staticClass:"label-1"},[e._v("修改")]),n("span",{staticClass:"label-2"},[e._v("密码")])]),n("div",{staticClass:"tips"},[e._v("密码至少6位 !!!")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-line-no"},[n("div",{staticClass:"setting-label"},[n("span",{staticClass:"label-1"},[e._v("确认")]),n("span",{staticClass:"label-2"},[e._v("密码")])]),n("div",{staticClass:"tips"},[e._v("再输一遍 !!!")])])}],a=(n("7f7f"),n("5118")),c={name:"setting",data:function(){return{editable:!1,newName:"",newPwd:"",newPwd2:"",pwdStyle:"confirm-pwd",showPwd2:!1}},computed:{account:function(){return this.$store.state.account},name:function(){return this.$store.state.name},assertSmall:function(){return 0===this.$store.state.ssize}},methods:{showPwdDiv:function(){var e=this;this.showPwd2=!0,this.pwdStyle="confirm-pwd-show",Object(a["setTimeout"])(function(){e.$refs.pwd2.focus()},500)},hidePwdDiv:function(){this.showPwd2=!1,this.pwdStyle="confirm-pwd-hide"},clickSetName:function(){var e=this;if(0!==this.newName.length){var t=this.newName;this.$post("/api/setname",{name:t}).then(function(){e.$store.commit("setName",t),e.$message.success("修改成功"),e.newName=""}).catch(function(t){e.$message.error("修改失败, "+t)})}else this.$message.info("用户名不能为空")},clickSetPwd:function(){this.newPwd.length<6?this.$message.info("至少输入6位密码"):this.showPwdDiv()},clickSetPwdTwice:function(){var e=this;this.newPwd!==this.newPwd2?this.$message.error("两次密码不一致"):this.$post("/api/setpwd",{password:this.newPwd}).then(function(){e.$message.success("修改成功"),e.hidePwdDiv(),e.newPwd="",e.newPwd2=""}).catch(function(t){e.$message.error("修改失败, "+t)})}}},l=c,o=(n("1d9c"),n("2877")),r=Object(o["a"])(l,s,i,!1,null,"e7225188",null);t["default"]=r.exports},6017:function(e,t,n){(function(e,t){(function(e,n){"use strict";if(!e.setImmediate){var s,i=1,a={},c=!1,l=e.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(e);o=o&&o.setTimeout?o:e,"[object process]"==={}.toString.call(e.process)?m():p()?v():e.MessageChannel?w():l&&"onreadystatechange"in l.createElement("script")?h():_(),o.setImmediate=r,o.clearImmediate=d}function r(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var c={callback:e,args:t};return a[i]=c,s(i),i++}function d(e){delete a[e]}function u(e){var t=e.callback,s=e.args;switch(s.length){case 0:t();break;case 1:t(s[0]);break;case 2:t(s[0],s[1]);break;case 3:t(s[0],s[1],s[2]);break;default:t.apply(n,s);break}}function f(e){if(c)setTimeout(f,0,e);else{var t=a[e];if(t){c=!0;try{u(t)}finally{d(e),c=!1}}}}function m(){s=function(e){t.nextTick(function(){f(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function v(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}function w(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;f(t)},s=function(t){e.port2.postMessage(t)}}function h(){var e=l.documentElement;s=function(t){var n=l.createElement("script");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function _(){s=function(e){setTimeout(f,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("c8ba"),n("f28c"))},"8ba6":function(e,t,n){}}]);
//# sourceMappingURL=chunk-661a3421.05fcc15d.js.map